# 비밀 등록/수정 폼 공통 컴포넌트 및 수정 페이지 구현

## 목표
현재 등록 페이지의 UI를 공통 컴포넌트로 추출하여 등록 페이지와 수정 페이지에서 모두 사용할 수 있도록 구현합니다.

## 요구사항

### 1. 상세 페이지에 수정/삭제 버튼 추가
- 위치: `/src/components/secrets-detail/SecretHeader.tsx` 또는 적절한 위치
- 상세 페이지(`/secrets/[secretId]`)에 '수정' 버튼과 '삭제' 버튼을 추가합니다.
- 버튼은 작성자 본인에게만 표시되어야 합니다 (현재는 모든 사용자에게 표시해도 무방).
- '수정' 버튼 클릭 시 `/secrets/[secretId]/edit` 경로로 이동합니다.
- '삭제' 버튼은 클릭 시 삭제 확인 모달을 표시하고, 확인 시 삭제 API를 호출합니다 (현재는 console.log로 대체 가능).

### 2. 공통 폼 컴포넌트 생성
- 위치: `/src/components/secrets-form/index.tsx`
- 스타일: `/src/components/secrets-form/styles.module.css`
- 현재 `/src/components/secrets-new/index.tsx`의 UI를 그대로 공통 컴포넌트로 추출합니다.
- Props로 다음을 받습니다:
  - `mode: 'create' | 'edit'` - 등록 모드인지 수정 모드인지 구분
  - `initialData?: {...}` - 수정 모드일 때 기존 데이터 (선택사항)
  - `onSubmit: (data) => void` - 폼 제출 핸들러
  - `onCancel: () => void` - 취소 핸들러

### 3. 텍스트 동적 변경
- `mode`가 `'create'`일 때:
  - 제목: "비밀 등록하기"
  - 제출 버튼: "등록하기"
- `mode`가 `'edit'`일 때:
  - 제목: "비밀 수정하기"
  - 제출 버튼: "수정하기"

### 4. 등록 페이지 수정
- 위치: `/src/components/secrets-new/index.tsx`
- 기존 컴포넌트를 공통 폼 컴포넌트(`SecretsForm`)를 사용하도록 리팩토링합니다.
- `mode="create"`로 전달합니다.

### 5. 수정 페이지 생성
- 위치: `/src/app/secrets/[secretId]/edit/page.tsx`
- 수정 페이지 컴포넌트: `/src/components/secrets-edit/index.tsx`
- 수정 페이지는 상세 페이지에서 비밀 데이터를 가져와서 공통 폼 컴포넌트에 전달합니다.
- `mode="edit"`로 전달하고, 기존 데이터를 `initialData`로 전달합니다.
- 수정 완료 후 상세 페이지로 리다이렉트합니다.

### 6. 파일 구조
```
src/
├── components/
│   ├── secrets-form/
│   │   ├── index.tsx          # 공통 폼 컴포넌트
│   │   ├── styles.module.css  # 공통 스타일
│   │   └── prompts/
│   │       └── prompt.101.form.txt
│   ├── secrets-new/
│   │   └── index.tsx          # 등록 페이지 (공통 컴포넌트 사용)
│   └── secrets-edit/
│       └── index.tsx          # 수정 페이지 컴포넌트 (공통 컴포넌트 사용)
└── app/
    └── secrets/
        ├── [secretId]/
        │   ├── page.tsx        # 상세 페이지
        │   └── edit/
        │       └── page.tsx    # 수정 페이지 라우트
        └── new/
            └── page.tsx        # 등록 페이지 라우트
```

## 구현 세부사항

### 공통 폼 컴포넌트 (SecretsForm)
- 현재 `secrets-new/index.tsx`의 모든 필드를 포함합니다:
  - 비밀명
  - 한줄 설명
  - 비밀 소개
  - 판매 가격
  - 태그 입력
  - 비밀과 관련된 주소 (주소, 우편번호, 상세 위치, 위도, 경도)
  - 사진 첨부
- 폼 상태 관리는 React의 `useState`를 사용합니다.
- 수정 모드일 때 `initialData`로 폼 필드를 초기화합니다.
- 제출 시 `onSubmit` 콜백에 폼 데이터를 전달합니다.
- 취소 시 `onCancel` 콜백을 호출합니다.

### 상세 페이지 수정/삭제 버튼
- 버튼 스타일은 기존 디자인 시스템과 일치해야 합니다.
- 버튼은 상세 페이지 헤더 영역 또는 적절한 위치에 배치합니다.
- 수정 버튼은 Link 컴포넌트를 사용하여 `/secrets/[secretId]/edit`로 이동합니다.
- 삭제 버튼은 클릭 시 확인 모달을 표시합니다 (모달은 기존 모달 시스템 사용).

### 수정 페이지
- 서버 컴포넌트로 구현하여 비밀 데이터를 가져옵니다.
- 데이터가 없으면 `notFound()`를 호출합니다.
- 클라이언트 컴포넌트(`SecretsEdit`)에서 공통 폼 컴포넌트를 사용합니다.
- 수정 완료 후 `/secrets/[secretId]`로 리다이렉트합니다.

## 참고사항
- 기존 스타일(`styles.module.css`)을 그대로 사용합니다.
- 로그인 체크 로직은 기존과 동일하게 유지합니다.
- API 호출 부분은 현재 TODO로 남겨두고, 나중에 구현할 수 있도록 구조만 잡습니다.
- 모든 텍스트는 하드코딩하지 않고 `mode` prop에 따라 동적으로 변경됩니다.


